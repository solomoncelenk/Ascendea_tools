<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ascendia OS | FVR Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .quadrant-chart {
            width: 100%;
            height: 400px;
            margin: 20px 0;
        }
        .slider-thumb::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #4F46E5;
            cursor: pointer;
        }
        .slider-thumb::-moz-range-thumb {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #4F46E5;
            cursor: pointer;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-6xl mx-auto">
            <!-- Header -->
            <header class="mb-10 text-center">
                <div class="flex items-center justify-center mb-4">
                    <i class="fas fa-chart-line text-indigo-600 text-4xl mr-3"></i>
                    <h1 class="text-3xl md:text-4xl font-bold text-gray-800">Friction vs Value Ratio Calculator</h1>
                </div>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                    Simulate performance potential of lead magnet assets based on traffic quality, perceived friction, and user value.
                </p>
            </header>

            <!-- Calculator Section -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Input Form -->
                <div class="bg-white rounded-xl shadow-md p-6 lg:col-span-1">
                    <h2 class="text-xl font-semibold text-gray-800 mb-6 border-b pb-2">Input Parameters</h2>
                    
                    <form id="fvrForm" class="space-y-6">
                        <!-- Traffic Source -->
                        <div>
                            <label for="trafficSource" class="block text-sm font-medium text-gray-700 mb-1">Traffic Source</label>
                            <select id="trafficSource" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                <option value="Organic">Organic</option>
                                <option value="Paid">Paid</option>
                                <option value="Affiliate">Affiliate</option>
                                <option value="Referral">Referral</option>
                                <option value="Cold Outreach">Cold Outreach</option>
                            </select>
                        </div>
                        
                        <!-- Lead Magnet Type -->
                        <div>
                            <label for="leadMagnet" class="block text-sm font-medium text-gray-700 mb-1">Lead Magnet Asset Type</label>
                            <select id="leadMagnet" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                <option value="Checklist">Checklist</option>
                                <option value="Webinar">Webinar</option>
                                <option value="Free Trial">Free Trial</option>
                                <option value="PDF Report">PDF Report</option>
                                <option value="Quiz">Quiz</option>
                                <option value="eBook">eBook</option>
                                <option value="Mini Course">Mini Course</option>
                                <option value="Video Series">Video Series</option>
                            </select>
                        </div>
                        
                        <!-- Friction Rating -->
                        <div>
                            <label for="frictionRating" class="block text-sm font-medium text-gray-700 mb-1">
                                Friction Rating: <span id="frictionValue" class="font-bold">5</span>/10
                            </label>
                            <input type="range" id="frictionRating" min="1" max="10" value="5" class="w-full slider-thumb">
                            <div class="flex justify-between text-xs text-gray-500">
                                <span>Low Friction</span>
                                <span>High Friction</span>
                            </div>
                        </div>
                        
                        <!-- Value Rating -->
                        <div>
                            <label for="valueRating" class="block text-sm font-medium text-gray-700 mb-1">
                                Value Rating: <span id="valueValue" class="font-bold">5</span>/10
                            </label>
                            <input type="range" id="valueRating" min="1" max="10" value="5" class="w-full slider-thumb">
                            <div class="flex justify-between text-xs text-gray-500">
                                <span>Low Value</span>
                                <span>High Value</span>
                            </div>
                        </div>
                        
                        <button type="button" onclick="calculateFVR()" class="w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors">
                            Calculate FVR <i class="fas fa-calculator ml-2"></i>
                        </button>
                    </form>
                </div>
                
                <!-- Results Section -->
                <div class="bg-white rounded-xl shadow-md p-6 lg:col-span-2">
                    <h2 class="text-xl font-semibold text-gray-800 mb-6 border-b pb-2">Results Dashboard</h2>
                    
                    <div id="resultsContainer" class="hidden">
                        <!-- Key Metrics -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                            <div class="bg-indigo-50 p-4 rounded-lg text-center">
                                <p class="text-sm font-medium text-indigo-700">FVR Score</p>
                                <p id="fvrScore" class="text-3xl font-bold text-indigo-600 mt-1">0.00</p>
                            </div>
                            <div class="bg-green-50 p-4 rounded-lg text-center">
                                <p class="text-sm font-medium text-green-700">Opt-In Rate</p>
                                <p id="optInRate" class="text-3xl font-bold text-green-600 mt-1">0%</p>
                            </div>
                            <div class="bg-purple-50 p-4 rounded-lg text-center">
                                <p class="text-sm font-medium text-purple-700">Conversion Velocity</p>
                                <p id="conversionVelocity" class="text-3xl font-bold text-purple-600 mt-1">0.0</p>
                            </div>
                        </div>
                        
                        <!-- Quadrant Chart -->
                        <div class="mb-8">
                            <h3 class="text-lg font-medium text-gray-800 mb-3">FVR Quadrant Analysis</h3>
                            <div id="quadrantChart" class="quadrant-chart"></div>
                        </div>
                        
                        <!-- Recommendations -->
                        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-lightbulb text-yellow-500 text-xl"></i>
                                </div>
                                <div class="ml-3">
                                    <h3 class="text-sm font-medium text-yellow-800">Strategic Recommendations</h3>
                                    <div id="recommendations" class="mt-2 text-sm text-yellow-700">
                                        <p>Adjust your inputs and calculate to see recommendations.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Export Options -->
                        <div class="mt-6 flex flex-wrap gap-3">
                            <button onclick="exportToCSV()" class="inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                <i class="fas fa-file-csv mr-2"></i> Export to CSV
                            </button>
                            <button onclick="copyResults()" class="inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                <i class="fas fa-copy mr-2"></i> Copy Results
                            </button>
                        </div>
                    </div>
                    
                    <!-- Initial State -->
                    <div id="initialState" class="text-center py-12">
                        <i class="fas fa-calculator text-gray-300 text-5xl mb-4"></i>
                        <h3 class="text-lg font-medium text-gray-500">Enter your parameters and click "Calculate FVR"</h3>
                        <p class="text-gray-400 mt-1">Results will appear here</p>
                    </div>
                </div>
            </div>
            
            <!-- How It Works Section -->
            <div class="mt-16 bg-white rounded-xl shadow-md p-6">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">How the FVR Calculator Works</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="p-4 bg-blue-50 rounded-lg">
                        <div class="flex items-center mb-2">
                            <div class="bg-blue-100 p-2 rounded-full mr-3">
                                <i class="fas fa-sliders-h text-blue-600"></i>
                            </div>
                            <h3 class="font-medium text-blue-800">Input Parameters</h3>
                        </div>
                        <p class="text-sm text-gray-600">Adjust the traffic source, lead magnet type, friction and value ratings to simulate different scenarios.</p>
                    </div>
                    <div class="p-4 bg-purple-50 rounded-lg">
                        <div class="flex items-center mb-2">
                            <div class="bg-purple-100 p-2 rounded-full mr-3">
                                <i class="fas fa-calculator text-purple-600"></i>
                            </div>
                            <h3 class="font-medium text-purple-800">Calculation Logic</h3>
                        </div>
                        <p class="text-sm text-gray-600">The calculator uses weighted formulas to determine FVR score, opt-in likelihood, and conversion velocity.</p>
                    </div>
                    <div class="p-4 bg-green-50 rounded-lg">
                        <div class="flex items-center mb-2">
                            <div class="bg-green-100 p-2 rounded-full mr-3">
                                <i class="fas fa-chart-bar text-green-600"></i>
                            </div>
                            <h3 class="font-medium text-green-800">Visual Analysis</h3>
                        </div>
                        <p class="text-sm text-gray-600">Results are displayed in a quadrant chart showing where your offer falls on the friction-value spectrum.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Update slider values in real-time
        document.getElementById('frictionRating').addEventListener('input', function() {
            document.getElementById('frictionValue').textContent = this.value;
        });
        
        document.getElementById('valueRating').addEventListener('input', function() {
            document.getElementById('valueValue').textContent = this.value;
        });
        
        // Traffic source weights
        const weights = {
            "Organic": 1.0,
            "Paid": 0.85,
            "Affiliate": 0.95,
            "Referral": 1.1,
            "Cold Outreach": 0.6
        };
        
        // Asset type recommendations
        const assetRecommendations = {
            "Checklist": "Great for low-friction opt-ins. Pair with a high-value offer to increase conversions.",
            "Webinar": "Excellent for building trust. Ensure the content delivers on its promise.",
            "Free Trial": "High perceived value but also high friction. Best for warm audiences.",
            "PDF Report": "Versatile option. Increase value with exclusive data or insights.",
            "Quiz": "Engaging format with moderate friction. Great for segmentation.",
            "eBook": "Perceived as high value. Keep friction low with instant delivery.",
            "Mini Course": "High value proposition. Works well with nurturing sequences.",
            "Video Series": "Engaging but higher friction. Ensure content is easily accessible."
        };
        
        // Calculate FVR and display results
        function calculateFVR() {
            // Get input values
            const trafficSource = document.getElementById('trafficSource').value;
            const leadMagnet = document.getElementById('leadMagnet').value;
            const friction = parseFloat(document.getElementById('frictionRating').value);
            const value = parseFloat(document.getElementById('valueRating').value);
            
            // Calculate metrics
            const trafficWeight = weights[trafficSource];
            const fvr = value / (friction + 1);
            const optIn = Math.min(Math.max(fvr * trafficWeight * 20, 0), 100);
            const velocity = Math.max(Math.min(((value - friction) / 2) + 2.5, 5), 1);
            
            // Display results
            document.getElementById('fvrScore').textContent = fvr.toFixed(2);
            document.getElementById('optInRate').textContent = optIn.toFixed(0) + '%';
            document.getElementById('conversionVelocity').textContent = velocity.toFixed(1);
            
            // Generate recommendations
            let recommendations = `
                <p class="mb-2"><strong>For ${trafficSource} traffic:</strong> ${assetRecommendations[leadMagnet]}</p>
                <p class="mb-2"><strong>FVR Analysis:</strong> Your offer has a ${getFvrCategory(fvr)} FVR score (${fvr.toFixed(2)}).</p>
            `;
            
            if (fvr > 1.5) {
                recommendations += `<p class="mb-2"><strong>Opportunity:</strong> Your high FVR suggests you could increase friction slightly to qualify leads better without significantly hurting conversions.</p>`;
            } else if (fvr < 0.5) {
                recommendations += `<p class="mb-2"><strong>Warning:</strong> Your low FVR indicates either too much friction or not enough perceived value. Consider simplifying your opt-in process or enhancing the offer.</p>`;
            } else {
                recommendations += `<p class="mb-2"><strong>Balance:</strong> Your FVR is in a moderate range. Test small adjustments to either friction or value to optimize performance.</p>`;
            }
            
            if (velocity > 3.5) {
                recommendations += `<p><strong>Velocity Insight:</strong> With a conversion velocity of ${velocity.toFixed(1)}, your leads are likely to convert quickly. Consider shorter follow-up sequences.</p>`;
            } else if (velocity < 2.5) {
                recommendations += `<p><strong>Velocity Insight:</strong> With a conversion velocity of ${velocity.toFixed(1)}, your leads may need more nurturing. Consider longer-term follow-up strategies.</p>`;
            } else {
                recommendations += `<p><strong>Velocity Insight:</strong> With a conversion velocity of ${velocity.toFixed(1)}, your leads have average conversion speed. Standard follow-up sequences should work well.</p>`;
            }
            
            document.getElementById('recommendations').innerHTML = recommendations;
            
            // Show results and hide initial state
            document.getElementById('resultsContainer').classList.remove('hidden');
            document.getElementById('initialState').classList.add('hidden');
            
            // Update quadrant chart
            updateQuadrantChart(friction, value, fvr);
        }
        
        // Categorize FVR score
        function getFvrCategory(fvr) {
            if (fvr > 1.5) return 'High';
            if (fvr > 0.8) return 'Moderate';
            if (fvr > 0.4) return 'Low';
            return 'Very Low';
        }
        
        // Update quadrant chart
        function updateQuadrantChart(friction, value, fvr) {
            const trace = {
                x: [friction],
                y: [value],
                mode: 'markers',
                type: 'scatter',
                name: 'Your Offer',
                marker: {
                    size: 20,
                    color: '#4F46E5'
                }
            };
            
            // Reference lines
            const shapes = [
                {type: 'line', x0: 5, y0: 0, x1: 5, y1: 10, line: {color: 'gray', width: 1, dash: 'dot'}},
                {type: 'line', x0: 0, y0: 5, x1: 10, y1: 5, line: {color: 'gray', width: 1, dash: 'dot'}}
            ];
            
            // Quadrant labels
            const annotations = [
                {x: 2.5, y: 7.5, text: 'High Value<br>Low Friction', showarrow: false, font: {color: 'green'}},
                {x: 7.5, y: 7.5, text: 'High Value<br>High Friction', showarrow: false, font: {color: 'orange'}},
                {x: 2.5, y: 2.5, text: 'Low Value<br>Low Friction', showarrow: false, font: {color: 'blue'}},
                {x: 7.5, y: 2.5, text: 'Low Value<br>High Friction', showarrow: false, font: {color: 'red'}}
            ];
            
            const layout = {
                title: 'Friction vs Value Quadrant Analysis',
                xaxis: {title: 'Friction Rating (1-10)', range: [0, 10]},
                yaxis: {title: 'Value Rating (1-10)', range: [0, 10]},
                shapes: shapes,
                annotations: annotations,
                margin: {t: 40, r: 20, b: 50, l: 50}
            };
            
            Plotly.newPlot('quadrantChart', [trace], layout);
        }
        
        // Export to CSV
        function exportToCSV() {
            const trafficSource = document.getElementById('trafficSource').value;
            const leadMagnet = document.getElementById('leadMagnet').value;
            const friction = document.getElementById('frictionRating').value;
            const value = document.getElementById('valueRating').value;
            const fvrScore = document.getElementById('fvrScore').textContent;
            const optInRate = document.getElementById('optInRate').textContent;
            const conversionVelocity = document.getElementById('conversionVelocity').textContent;
            
            const csvContent = 
                "Traffic Source,Lead Magnet,Friction Rating,Value Rating,FVR Score,Opt-In Rate,Conversion Velocity\n" +
                `${trafficSource},${leadMagnet},${friction},${value},${fvrScore},${optInRate},${conversionVelocity}`;
            
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.setAttribute('href', url);
            link.setAttribute('download', 'fvr_calculator_results.csv');
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
        
        // Copy results to clipboard
        function copyResults() {
            const trafficSource = document.getElementById('trafficSource').value;
            const leadMagnet = document.getElementById('leadMagnet').value;
            const friction = document.getElementById('frictionRating').value;
            const value = document.getElementById('valueRating').value;
            const fvrScore = document.getElementById('fvrScore').textContent;
            const optInRate = document.getElementById('optInRate').textContent;
            const conversionVelocity = document.getElementById('conversionVelocity').textContent;
            const recommendations = document.getElementById('recommendations').textContent;
            
            const resultsText = `FVR Calculator Results:
- Traffic Source: ${trafficSource}
- Lead Magnet: ${leadMagnet}
- Friction Rating: ${friction}/10
- Value Rating: ${value}/10
- FVR Score: ${fvrScore}
- Opt-In Rate: ${optInRate}
- Conversion Velocity: ${conversionVelocity}/5

Recommendations:
${recommendations}`;
            
            navigator.clipboard.writeText(resultsText).then(() => {
                alert('Results copied to clipboard!');
            }).catch(err => {
                console.error('Failed to copy results: ', err);
                alert('Failed to copy results to clipboard.');
            });
        }
    </script>
<p style="border-radius: 8px; text-align: center; font-size: 12px; color: #fff; margin-top: 16px;position: fixed; left: 8px; bottom: 8px; z-index: 10; background: rgba(0, 0, 0, 0.8); padding: 4px 8px;">Made with <img src="https://enzostvs-deepsite.hf.space/logo.svg" alt="DeepSite Logo" style="width: 16px; height: 16px; vertical-align: middle;display:inline-block;margin-right:3px;filter:brightness(0) invert(1);"><a href="https://enzostvs-deepsite.hf.space" style="color: #fff;text-decoration: underline;" target="_blank" >DeepSite</a> - ðŸ§¬ <a href="https://enzostvs-deepsite.hf.space?remix=tjmac1/friction-vs-value-ratio-calculator" style="color: #fff;text-decoration: underline;" target="_blank" >Remix</a></p></body>
</html>
